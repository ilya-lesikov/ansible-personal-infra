---
dependency:
  name: galaxy
  options:
    role-file: requirements.yml

driver:
  name: vagrant
  provider:
    name: libvirt
    type: libvirt
    options:
      memory: 1024
      cpus: 2

lint:
  name: yamllint

platforms:
  - name: instance
    box: generic/ubuntu1804
    provider_raw_config_args:
      - 'cpu_mode = "custom"'
      - 'cpu_model = "qemu64"'

provisioner:
  name: ansible
  lint:
    name: ansible-lint

verifier:
  name: testinfra
  options:
    # breakpoints in tests do not work without this
    # capture: "no"
    # pdb: true
    # pdbcls: 'IPython.terminal.debugger:TerminalPdb'
    no-flaky-report: true
  lint:
    name: flake8
